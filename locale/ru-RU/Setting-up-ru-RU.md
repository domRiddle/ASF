# Установка

Если вы пришли сюда впервые - Добро Пожаловать! Рады видеть что ещё один путник заинтересован в нашем проекте, но просим вас не забывать, что с большой силой приходит большая ответственность - ASF может сделать в Steam многое, но только если **вам не лень учиться, как им пользоваться**. Кривая обучения довольно крутая, и поэтому от вас ожидается что вы прочтёте эту wiki, которая подробно описывает как всё работает.

Если вы всё ещё читаете, значит вас не напугало вступление выше, и это радует. Конечно, если вы не пропустили его, в противном случае у вас скоро будут **[большие проблемы](https://www.youtube.com/watch?v=WJgt6m6njVw)**... В любом случае, ASF это консольное приложение, а это значит что у этой программы отсутствует дружественный графический интерфейс к которому большинство из вас привыкло. ASF разрабатывался в первую очередь для работы на серверах, и поэтому работает как служба (демон), а не как настольное приложение.

Однако это не означает что вы не можете пользоваться им на своём ПК, или пользоваться им каким-то более сложным способом, ничего такого. ASF это отдельная программа не требующая инсталляции, и работает сразу "из коробки", однако требует конфигурирования чтобы быть полезной. Конфигурирование это способ указать ASF, что нужно делать после запуска. Если вы запустите ASF без конфигурирования, оно просто ничего не будет делать.

* * *

## Установка для конкретных ОС

В общем случае, вот что нам придётся сделать в следующие несколько минут:

- Установить **[предусловия для .NET Core](#net-core-prerequisites)**.
- Скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)** в варианте для конкретной ОС.
- Распаковать архив в новую папку (и выполнить `chmod +x ArchiSteamFarm` если вы работаете в Linux/OS X).
- **[Сконфигурировать ASF](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.
- Запустить ASF и увидеть магию.

Звучит довольно просто, правда? Давайте займёмся этим.

* * *

### Предусловия для .NET Core

Первое что надо сделать - убедиться, что ваша ОС вообще может запустить ASF. ASF написана на C#, основаный на .NET Core, и может требовать нативные библиотеки, которые пока недоступны для вашей платформы. В зависимости от того, используете вы Windows, Linux или OS X, вам подребуется выполнить различные требования, но все они перечислены в документе **[.NET Core prerequisites](https://docs.microsoft.com/dotnet/core/install)** (предусловия для .NET Core), которому вы должны следовать. Это справочный материал, который вам следует использовать, но ради простоты мы также перечислили все необходимые пакеты ниже, так что вам нет нужды читать документ полностью.

Совершенно нормально, если некоторые (или деже все) зависимости уже присутствуют в вашей системе из-за стороннего программного обеспечения которым вы пользуетесь. Однако, вы должны убедиться что это действительно так, запустив соответствующий инсталлятор для своей ОС - без этих зависимостей ASF вообще не запустится.

Помните, что для установки варианта под конкретную ОС вам больше ничего не надо делать, особенно устанавливать .NET Core SDK или даже среду исполнения, поскольку пакеты для конкретных ОС уже включают всё это в себя. Вам нужны только предусловия для .NET Core (зависимости) чтобы запустить среду исполнения включенную в ASF.

#### **[Windows](https://docs.microsoft.com/dotnet/core/install/windows)**:

- **[Microsoft Visual C++ 2015 Redistributable Update](https://www.microsoft.com/en-us/download/details.aspx?id=53587)** (x64 для 64-битного Windows, x86 для 32-битного Windows)
- Настоятельно рекомендуется убедиться, что у вас уже установлены все обновления Windows. Как минимум вам потребуются **[KB2533623](https://support.microsoft.com/en-us/help/2533623/)** и **[KB2999226](https://support.microsoft.com/en-us/help/2999226/)**, но могут понадобиться и другие обновления. Все они уже должны быть установлены если ваша Windows полностью обновлена. Убедитесть что вы выполнили эти требования до того как устанавливать пакет Visual C++.

#### **[Linux](https://docs.microsoft.com/dotnet/core/install/linux)**:

Имена пакетов зависят от того, каким дистрибутивом Linux вы пользуетесь, мы перечисляем наиболее распространённые. Вам можете получить их все с помощью встроенного менеджера пакетов для вашей ОС (таким как `apt` для Debian или `yum` для CentOS).

- `libcurl` (`libcurl4`, `libcurl3`)
- `libicu` (последняя версия для вашего дистрибутива, например `libicu60`)
- `libkrb5-3` (`krb5-libs`)
- `liblttng-ust0` (`lttng-ust`)
- `libssl` (`libssl1.1`, `openssl-libs`, последняя версия 1.1.X для вашего дистрибутива)
- `zlib1g` (`zlib`)

Как минимум часть из них должна быть уже доступна для вашей системы (как например `zlib1g` которая в наши дни требуется практически в любом дистрибутиве Linux).

#### **[OS X](https://docs.microsoft.com/dotnet/core/install/macos)**:

- На данный момент никаких дополнительных требований нет, но у вас должна быть установлена последняя версия OS X, как минимум 10.13+

* * *

### Скачивание

Теперь, раз у нас уже есть все необходимые зависимости, следующим шагом будет скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)**. ASF доступен в разных вариантах, вас интересует пакет, который подходит для вашей операционной системы и архитектуры. Например, если вы пользуетесь `64`-битной `Win`dows, вам нужен пакет `ASF-win-x64`. Чтобы получить подробную информацию обо всех доступных вариантах, ознакомьтесь с разделом **[совместимость](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU)**. ASF так же можно запустить на ОС для которых мы не делаем пакетов под конкретную ОС, таких как **32-битная Windows**, для этого перейдите в раздел **[универсальная установка](#user-content-Универсальная-установка)**.

![Варианты поставки](https://i.imgur.com/Ym2xPE5.png)

После скачивания, начните с того чтобы распаковать zip-файл в отдельную папку. We recommend using **[7-zip](https://www.7-zip.org)**, but all standard utilities like `unzip` from Linux/OS X should work without problems as well.

If you're using Linux/OS X, don't forget to `chmod +x ArchiSteamFarm` in the extracted folder, since permissions are not automatically set in the zip file. Это нужно сделать только один раз после первоначальной распаковки.

Рекомендуем распаковывать ASF в **отдельную папку** а не в какую-то папку которую вы используете для других целей - система авто-обновления ASF удалит все файлы не связанные с ASF при обновлении, и вы потеряете все свои файлы, находящиеся в папке ASF. Если у вас есть дополнительные скрипты или файлы, которые вы хотите использовать вместе с ASF, положите их на одну папку выше.

Cnруктура папок должна быть примерно такой:

```text
C:\ASF (where you put your own things)
    ├── ASF shortcut.lnk (optional)
    ├── Config shortcut.lnk (optional)
    ├── Commands.txt (optional)
    ├── MyExtraScript.bat (optional)
    ├── (...) (any other files of your choice, optional)
    └── Core (dedicated to ASF only, where you extract the archive)
         ├── ArchiSteamFarm(.exe)
         ├── config
         ├── logs
         ├── plugins
         └── (...)
```

* * *

### Конфигурирование

Теперь мы готовы к последнему шагу, конфигурированию. Это пожалуй самый сложный шаг, поскольку включает в себя много новой информации с которой вы пока не знакомы, поэтому здесь мы предоставим несколько понятных примеров и упрощённое объяснение.

Первое и главное, у нас есть раздел "**[Конфигурация](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**" в котором подробно разъясняется **всё** что связано с конфигурированием, но это огромный объём новой информации, значительная часть которой всё равно вам пока не потребуется. Вместо этого, мы научим вас, как получить ту информацию, которую вы ищете.

Конфигурирование ASF может быть сделано двумя методами - либо используя сетевой генератор конфигураций, либо вручную. Это объяснено в деталях в разделе "**[Конфигурация](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**", поэтому если вам нужна подробная информация - обращайтесь для справок к этому разделу. Здесь мы пойдём по пути сетевого генератора конфигураций, поскольку это намного легче.

Перейдите на страницу **[сетевого генератора конфигураций](https://justarchinet.github.io/ASF-WebConfigGenerator)** в своём любимом браузере, вам понадобится включенный javascript (на случай если вы его отключили вручную). Мы рекомендуем Chrome или Firefox, но генератор должен работать в любом из современных популярных браузеров.

После того, как вы перешли на страницу генератора, переключитесь на закладку "Бот". Вы должны увидеть страницу, похожую на показанную ниже:

![Закладка "Бот"](https://i.imgur.com/aF3k8Rg.png)

Если по каким-то причинам версия ASF, которую вы скачали, более старая чем та, которая используется генератором конфигураций по-умолчанию, просто выберите нужную вам версию ASF в выпадающем меню. Это может произойти из-за того, что генератор конфигруаций можно использовать для создания конфигураций для более новых (до-релизных) версий ASF, которые ещё отмечены как стабильные. А вы скачали последнюю стабильную версию ASF, которая проверена и надёжно работает.

Начните с ввода имени бота в поле, подсвеченное красным. Это может быть любое имя, такое как ваш никнейм, имя аккаунта, число, или что-то ещё. Есть только одно слово, которое нельзя использовать, `ASF`, поскольку это слово зарезервировано для файла глобальной конфигурации. Кроме того, имя вашего бота не может начинаться с точки (ASF намеренно игнорирует такие файлы). Мы так же рекомендуем не использовать пробелы, вы можете пользоваться символом `_` для разделения слов, если надо.

После того, как вы определились с именем, включите переключатель `Enabled`, это определяет будет ли ASF автоматически запускать вашего бота после запуска программы.

Теперь вам надо выбрать один из двух вариантов:

- Вы можете указать свой логин в поле `SteamLogin` и свой пароль в поле `SteamPassword`
- Или вы можете оставить эти поля пустыми

Если вы их укажете - ASF сможет автоматически использовать ваши учетные данные при запуске, и вам не придётся вводить их каждый раз когда они нужны ASF. Однако вы можете решить не указывать их, чтобы они не сохранялись, ASF в этом случае не сможет запустится без вашей помощи, и вам придётся вводить их во время работы.

ASF требуются ваши учетные данные поскольку в нём используется собственная реализация клиента Steam, которому требуются те же данные для входа, что и официальному клиенту. Ваши учётные данные не сохраняются нигде, кроме папки `config` ASF на вашем ПК, наш генератор конфигураций тоже работает на стороне клиент, то есть вы можете запустить его локально в своём браузере чтобы сгенерировать валидные файлы конфигураций, и при этом ваши учётные данные не покидают вашего ПК, поэтому нет нужды беспокоится об утечке данных. Однако, если по какой-то причине вы не хотите вводить учётные данные в генероторе, мы относимся к этому с пониманием, вы можете вставить их в созданные файлы потом, или вообще опустить их, и вводить только по запросу ASF в командной строке. Узнать больше о мерах безопасности вы можете в разделе посвященном **[конфигурации](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.

Кроме того вы можете оставить пустым только одно поле, например `SteamPassword`, тогда ASF сможет автоматически подставить логин, но запросит пароль при старте (аналогично клиенту Steam). Если вы используете Семейный просмотр Steam, вам понадобиться ввести его ПИН-код в поле `SteamParentalCode`.

После принятия этих решений и ввода дополнительных данных, ваша страница будет выглядеть похоже на это:

![Закладка "Бот" 2](https://i.imgur.com/yf54Ouc.png)

Теперь вы можете нажать на кнопку "Скачать" и сетевой генератор конфигураций создаст новый `json`-файл с выбранным вами именем. Save that file into `config` directory which is located in the folder where you've extracted our zip file in the previous step.

Ваша папку `config` будет выглядить примерно так:

![Файловая структура](https://i.imgur.com/crWdjcp.png)

Поздравляем! Вы только что закончили очень простую конфигурацию бота для ASF. Вскоре мы её расширим, но пока это всё что вам нужно.

* * *

### Запуск ASF

Теперь вы готовы к первому запуску программы. Simply double-click `ArchiSteamFarm` binary in ASF directory.

После этого, если вы установили все необходимые зависимости в самом начале, ASF должен успешно запуститься, обнаружить вашего первого бот (если вы не забыли положить сгенерированный файл конфигурации в папку `config`) и попытаться войти:

![ASF](https://i.imgur.com/u5hrSFz.png)

Если вы указали `SteamLogin` и `SteamPassword` для использования в ASF, у вас запросят только код SteamGuard (из e-mail, из приложения для аутентификации или вообще никакго, в зависимости от настроек вашего аккаунта в Steam). Если нет, вас попросят ввести логин и пароль Steam.

Сейчас самое время чтобы вы ознакомились с нашей **[политикой конфиденциальности](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Statistics-ru-RU#Текущая-политика-конфиденциальности)**, если вам интересно, что будет происходить дальше. Сам ASF тоже выдаст вам сообщение об этом.

После завершения входа, если ваши учетные данные верны, вы успешно войдёте в Steam, и ASF начнет фармить используя настройки по-умолчанию, которые вы пока не меняли:

![ASF 2](https://i.imgur.com/Cb7DBl4.png)

Это показатель того, что ASF успешно выполняет свою работу на вашем аккаунте, теперь вы можете свернуть окно программы и заняться чем-то ещё. После некоторого времени (в зависимости от **[производительности](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Performance-ru-RU)**), вы увидите что начали падать коллекционные карточки Steam. Конечно, это случится только если у вас есть игры которые можно фармить, для которых на **[странице значков](https://steamcommunity.com/my/badges)** указано "Выпадет ещё XX карточек" - если же игр для фарма нет, ASF сообщит, что ему нечем заняться, как описано в нашем **[ЧАВО](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/FAQ-ru-RU##user-content-Что-такое-asf)**.

Этим завершается наша очень простая инструкция по установке. Теперь вы можете решить, хотите ли вы настраивать ASF дальше, или позволить ему работать с настройками по-умолчанию. Мы упомянем ещё несколько простых подробностей, а затем оставим вас наедине с wiki.

* * *

### Расширенное конфигурирование

#### Фарм на нескольких аккаунтах одновременно

ASF поддерживает фарм на нескольких аккаунтах одновременно, это его основная функция. Вы можете добавлять новые аккаунты к ASF создавая новые файлы конфигурации ботов, точно так же как вы создали для первого бота несколько минут назад. Вам нужно следить только за двумя вещами:

- Уникальное имя бота, если ваш первый бот назван "MainAccount" вы не можете создать ещё одного с таким же именем.
- Правильные учётные данные, такие как `SteamLogin`, `SteamPassword` и `SteamParentalCode` (если вы используете семейный просмотр Steam)

Другими словами, просто снова перейдите к конфигурированию, и сделайте всё точно так же, но для второго и третьего аккаунтов. Не забывайте давать уникальные имена всем вашим ботам.

* * *

#### Изменение настроек

Вы можете поменять существующие настройки точно так же - просто сгенерировав новый файл конфигурации. Если вы ещё не закрыли сетевой генератор, нажмите на кнопку "Отображение расширенных настроек" и посмотрите, что там ещё есть. С целью обучения мы поменяем параметр `CustomGamePlayedWhileFarming`, который позволяет указать произвольное название, которое ASF будет отображать в процессе фарма вместо настоящего названия запущенной игры.

Если вы просто запустите ASF и начнёте фарм, по умолчанию ваш аккаунт Steam получит статус "в игре":

![Steam](https://i.imgur.com/1VCDrGC.png)

Давайте это поменяем. Включите расширенные настройки в сетевом генераторе, и найдите параметр `CustomGamePlayedWhileFarming`. Когда найдёте, впишите туда произвольный текст, который вы хотите отобразить, например "Idling cards":

![Закладка "Бот" 3](https://i.imgur.com/gHqdEqb.png)

Теперь скачайте новый файл конфигурации так же как раньше, и **замените** ваш старый файл конфигурации новым. Конечно же, вы можете так же сначала удалить старый файл конфигурации а потом положить новый на его место.

Когда вы это сделаете - снова запустите ASF, и вы увидите что заданный вами текст выводится вместо названия игры:

![Steam 2](https://i.imgur.com/vZg0G8P.png)

Это указывает на то, что вы успешно изменили конфигурацию. Точно так же вы можете изменять и глобальные настройки ASF, переключившись с заклкдки "Бот" на закладку "ASF", скачав сгенерированный файл конфигурации `ASF.json` и поместив его в вашу директорию `config`.

* * *

#### Использование ASF-ui

ASF - консольное приложение и не имеет графического интерфейса пользователя. Однако мы активно работаем над интерфейсом **[ASF-ui](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/IPC-ru-RU#asf-ui)** для нашего интерфейса IPC, и он может служить практичным и удобным способом доступа к различным возможностям ASF.

Чтобы пользоваться ASF-ui, вам нужно убедиться, что у вас настроены параметры `IPC` и `SteamOwnerID` в глобальном файле конфигурации (закладка ASF в сетевом генераторе конфигураций).

В параметре `SteamOwnerID` вам надо ввести уникальный идентификатор Steam вашего аккаунта в 64-битном формате. Его можно узнать разными методами, мы воспользуемся для этого сайтом **[SteamRep](https://steamrep.com)**. Откройте этот сайт, найдите кнопку для входа с помощью Steam в правом верхнем углу, и войдите на сайт. После этого, там же, нажмите на свой аватар, и найдите `steamID64` в вашем профиле.

![SteamRep](https://i.imgur.com/RUuJ63i.png)

Для моего аккаунта - это число `76561198006963719`. У вас будет похожее, тоже начинающееся с цифр `7656`. Скопируйте его.

Теперь вернитесь к сетевому генератору конфигураций и введите его в поле SteamOwnerID.

![SteamOwnerID](https://i.imgur.com/V6jslfQ.png)

Вам нужно сделать ещё одну вещь, включите отображение расширенных настроек, найдите параметр `IPC` и включите его.

![IPC](https://i.imgur.com/NhujZCN.png)

Теперь вы можете скачать свою конфигурацию для ASF, и сохранить её в папке `config`, как обычно. После этого снова запустите ASF, и вы должны увидеть что интерфейс IPC запустился:

![IPC 2](https://i.imgur.com/ZmkO8pk.png)

Если вы всё правильно сделали, у вас должно получиться открыть интерфейс IPC по **[этой](http://localhost:1242)** ссылке, когда запущен ASF. Вы можете использовать ASF-ui для различных задач, например для отправки **[команд](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Commands-ru-RU)**. Вы можете самостоятельно исследовать ASF-ui чтобы узнать все его возможности.

![ASF-ui](https://raw.githubusercontent.com/JustArchiNET/ASF-ui/master/.github/previews/bots.png)

Обратите внимание на то, что ASF-ui сейчас в тестовом доступе, и в нём могут отсутствовать или не работать какие-то функции, но даже того что есть вполне достаточно для простого использования ASF.

* * *

### Резюме

Вы успешно установили и настроили ASF для ваших аккаунтов Steam, и даже немного поменяли настройки на свой вкус. Если вы следовали этому руководству, то у вас даже настроен интерфейс ASF-ui и вы можете посылать через него команды. Теперь вам стоит целиком прочесть раздел "**[Конфигурация](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**" чтобы узнать, что именно делают параметры которые вы могли видеть на закладке расширенных настроек, и какие возможности может предложить ASF. Если вы запутались, или у вас есть какие-то общие вопросы - прочтите раздел **[ЧАВО](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/FAQ-ru-RU)**, который покрывает если не все, то во всяком случае большинство вопросов, которые у вас могут возникнуть. Если хотите узнать всё об ASF и о том, как оно может облегчить вам жизнь, прочтите оставшиеся разделы **[нашей wiki](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Home-ru-RU)**. Развлекайтесь!

* * *

## Универсальная установка

Это установка для продвинутых пользователей, которые хотят запустить ASF в **[универсальном](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU#Универсальный-пакет)** варианте. Этот вариант не рекомендуется для людей, которые могут воспользоваться **[пакетами под конкретную ОС](#Установка-для-конкретных-ОС)**.

Вам может понадобиться установка универсального пакета в основном в трёх случаях (хотя вы можете использовать её любом случае):

- Если вы используете ОС, для которой мы не выпускаем пакета под конкретную ОС (например 32-битная Windows)
- Если у вас уже установлены .NET Core Runtime/SDK, или вы собираетесь устанавливать и пользоваться ими
- Если вы хотите минимизировать файловую структуру ASF вручную обеспечивая требования среды исполнения

Однако имейте в виду, что в этом случае за среду исполнения .NET Core отвечаете вы. Это значит, что если ваше .NET Core SDK (и/или среда исполнения) недоступны, устарели или поломаны, ASF не будет работать. Именно поэтому мы не рекомендуем этот вариант установки для обычных пользователей, поскольку вам придётся заботится о том, чтобы .NET Core SDK (и среда исполнения) соответствовали требованиям ASF, и могли запускать ASF, тогда как в противном случае **мы** будем заботиться чтобы среда исполнения .NET Core в пакете ASF могла это делать.

Для универсального пакета, вы можете следовать всему руководству по установке под конкретную ОС, приведенному выше, с двумя небольшими отличиями. В дополнение к установке предусловий для .NET Core, вам также понадобится установить .NET Core SDK, а вместо запускаемого файла под конкретную ос `ArchiSteamFarm(.exe)` у вас будет только универсальный запускаемый файл `ArchiSteamFarm.dll`. Всё остальное практически точно так же.

Вместе с дополнительными шагами, вы должны:

- Установить **[предусловия для .NET Core](https://docs.microsoft.com/dotnet/core/install/dependencies?tabs=netcore31)**.
- Установить **[.NET Core SDK](https://www.microsoft.com/net/download)** (или как минимум среду исполнения) подходящую для вашей ОС. Скорее всего вы захотите использовать установщик. Обратитесь к разделу "**[Требования среды исполнения](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Compatibility-ru-RU#user-content-Требования-среды-исполнения)**" если не уверены, какую версию вам надо установить.
- Скачать **[последнюю версию ASF](https://github.com/JustArchiNET/ArchiSteamFarm/releases/latest)** в универсальном (generic) варианте.
- Распаковать архив в новую папку (и выполнить `chmod +x ArchiSteamFarm.sh` если вы работаете под Linux/OS X).
- **[Сконфигурировать ASF](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Configuration-ru-RU)**.
- Запустить ASF либо с помощью предоставленного скрипта, либо вручную командой `dotnet /path/to/ArchiSteamFarm.dll` из вашей любимой оболочки командной строки.

Скрипты для запуска (такие как `ArchiSteamFarm.cmd` для Windows и `ArchiSteamFarm.sh` для Linux/OS X) расположены там же, где и запускаемый файл `ArchiSteamFarm.dll`, и включены только в универсальный пакет для установки. Вы можете воспользоваться ими если не хотите запускать команду `dotnet` вручную. Естественно, скрипты для запуск не будут работать если вы не установили .NET Core SDK и в вашем `PATH` нет пути к запускаемому файлу `dotnet`. Скрипты для запуска не обязательны к использованию, вы всегда можете вручную запустить команду `dotnet /path/to/ArchiSteamFarm.dll`.