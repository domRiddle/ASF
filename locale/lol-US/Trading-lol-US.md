# TRADIN

ASF INCLUDEZ SUPPORT 4 STEAM NON-INTERACTIV (OFFLINE) TRADEZ. BOTH RECEIVIN (ACCEPTIN/DECLININ) AS WELL AS SENDIN TRADEZ IZ AVAILABLE RITE AWAY AN DOESNT REQUIRE SPESHUL CONFIGURASHUN, BUT OBVIOUSLY REQUIREZ UNRESTRICTD STEAM AKOWNT (TEH WAN DAT SPENT 5$ IN DA STORE ALREADY). TRADIN MODULE IZ UNAVAILABLE 4 RESTRICTD ACCOUNTS.

---

## LOGIC

ASF WILL ALWAYS ACCEPT ALL TRADEZ, REGARDLES OV ITEMS, SENT FRUM USR WIF `Master` (OR HIGHR) ACCES 2 TEH BOT. DIS ALLOWS NOT ONLY EASILY LOOTIN STEAM CARDZ FARMD BY TEH BOT INSTANCE, BUT ALSO ALLOWS 2 EASILY MANAGE STEAM ITEMS DAT BOT STASHEZ IN DA INVENTORY - INCLUDIN DOSE FRUM OTHR GAMEZ (SUCH AS CS:GO).

ASF WILL REJECT TRADE OFFR, REGARDLES OV CONTENT, FRUM ANY (NON-MASTAH) USR DAT IZ BLACKLISTD FRUM TRADIN MODULE. Blacklist is stored in standard `BotName.db` database, and can be managed via `tb`, `tbadd` and `tbrm` **[commands](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Commands)**. DIS SHUD WERK AS AN ALTERNATIV 2 STANDARD USR BLOCK OFFERD BY STEAM - USE WIF CAUSHUN.

ASF WILL ACCEPT ALL `loot`-LIEK TRADEZ BEAN SENT ACROS BOTS, UNLES `DontAcceptBotTrades` IZ SPECIFID IN `TradingPreferences`. IN SHORT, DEFAULT `TradingPreferences` OV `None` WILL CAUSE ASF 2 AUTOMATICALLY ACCEPT TRADEZ FRUM USR WIF `Master` ACCES 2 TEH BOT (EXPLAIND ABOOV), AS WELL AS ALL DONASHUN TRADEZ FRUM OTHR BOTS DAT R TAKIN PART IN ASF PROCES. IF U WANTS 2 DISABLE DONASHUN TRADEZ FRUM OTHR BOTS, DEN THAZ WUT `DontAcceptBotTrades` IN UR `TradingPreferences` IZ 4.

WHEN U ENABLE `AcceptDonations` IN UR `TradingPreferences`, ASF WILL ALSO ACCEPT ANY DONASHUN TRADE - TRADE IN WHICH BOT AKOWNT IZ NOT LOSIN ANY ITEMS. DIS PROPERTY AFFECTS ONLY NON-BOT ACCOUNTS, AS BOT ACCOUNTS R AFFECTD BY `DontAcceptBotTrades`. `AcceptDonations` ALLOWS U 2 EASILY ACCEPT DONASHUNS FRUM OTHR PEEPS, AN ALSO BOTS DAT R NOT TAKIN PART IN ASF PROCES.

IZ NICE 2 NOWT DAT `AcceptDonations` DOESNT REQUIRE **[ASF 2FA](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Two-factor-authentication-lol-US)**, AS THAR IZ NO CONFIRMASHUN NEEDD IF WERE NOT LOSIN ANY ITEMS.

U CAN ALSO FURTHR CUSTOMIZE ASF TRADIN CAPABILITIEZ BY MODIFYIN `TradingPreferences` ACCORDINGLY. WAN OV TEH MAIN `TradingPreferences` FEATUREZ IZ `SteamTradeMatcher` OPSHUN WHICH WILL CAUSE ASF 2 USE BUILT-IN LOGIC 4 ACCEPTIN TRADEZ DAT HALP U COMPLETE MISIN BADGEZ, WHICH IZ ESPECIALLY USEFUL IN COOPERASHUN WIF PUBLIC LISTIN OV **[STEAMTRADEMATCHR](https://www.steamtradematcher.com)**, BUT CAN ALSO WERK WITHOUT IT. IZ FURTHR DESCRIBD BELOW.

---

## `SteamTradeMatcher`

WHEN `SteamTradeMatcher` IZ ACTIV, ASF WILL USE QUITE COMPLEX ALGORITHM OV CHECKIN IF TRADE PASEZ STM RULEZ AN IZ AT LEAST NEUTRAL TOWARDZ US. TEH AKSHUL LOGIC IZ FOLLOWIN:

- REJECT TEH TRADE IF WERE LOSIN ANYTHIN BUT ITEM TYPEZ SPECIFID IN R `MatchableTypes`.
- REJECT TEH TRADE IF WERE NOT RECEIVIN AT LEAST TEH SAME NUMBR OV ITEMS ON PER-GAME, PER-TYPE AN PER-RARITY BASIS.
- REJECT TEH TRADE IF USR ASKZ 4 SPESHUL STEAM SUMMR/WINTR SALE CARDZ, AN HAS TRADE HOLD.
- REJECT TEH TRADE IF TRADE HOLD DURASHUN EXCEEDZ `MaxTradeHoldDuration` GLOBAL CONFIG PROPERTY.
- REJECT TEH TRADE IF WE DOAN HAS `MatchEverything` SET, AN IZ WORSE THAN NEUTRAL 4 US.
- ACCEPT TEH TRADE IF WE DIDNT REJECT IT THRU ANY OV TEH POINTS ABOOV.

IZ NICE 2 NOWT DAT ASF ALSO SUPPORTS OVERPAYIN - TEH LOGIC WILL WERK PROPERLY WHEN USR IZ ADDIN SOMETHIN EXTRA 2 TEH TRADE, AS LONG AS ALL ABOOV CONDISHUNS R MET.

FURST 4 REJECT PREDICATEZ SHUD BE OBVIOUS 4 EVRYONE. TEH FINAL WAN INCLUDEZ AKSHUL DUPEZ LOGIC WHICH CHECKZ CURRENT STATE OV R INVENTORY AN DECIDEZ WUT IZ TEH STATUS OV TEH TRADE.

- TRADE IZ **GUD** IF R PROGRES TOWARDZ SET COMPLESHUN ADVANCEZ. EXAMPLE: A A (BEFORE) -> A B (AFTR)
- TRADE IZ **NEUTRAL** IF R PROGRES TOWARDZ SET COMPLESHUN STAYS IN-TACT. EXAMPLE: A B (BEFORE) -> A C (AFTR)
- TRADE IZ **BAD** IF R PROGRES TOWARDZ SET COMPLESHUN DECLINEZ. EXAMPLE: A C (BEFORE) -> A A (AFTR)

STM OPERATEZ ONLY ON GUD TRADEZ, WHICH MEANZ DAT USR USIN STM 4 DUPEZ MATCHIN SHUD ALWAYS SUGGEST ONLY GUD TRADEZ 4 US. HOWEVR, ASF IZ LIBERAL, AN IT ALSO ACCEPTS NEUTRAL TRADEZ, CUZ IN DOSE TRADEZ WERE NOT AKSHULLY LOSIN ANYTHIN, SO THAR IZ NO REAL REASON 2 DECLINE THEM. DIS AR TEH ESPECIALLY USEFUL 4 UR FRENZ, SINCE THEY CAN SWAP UR EXCESIV CARDZ WITHOUT USIN STM AT ALL, AS LONG AS URE NOT LOSIN ANY SET PROGRES.

BY DEFAULT ASF WILL REJECT BAD TRADEZ - DIS AR TEH ALMOST ALWAYS WUT U WANTS AS AN USR. HOWEVR, U CAN OPSHUNALLY ENABLE `MatchEverything` IN UR `TradingPreferences` IN ORDR 2 MAK ASF ACCEPT ALL DUPE TRADEZ, INCLUDIN **BAD ONEZ**. DIS AR TEH USEFUL ONLY IF U WANTS 2 RUN 1:1 TRADE BOT UNDR UR AKOWNT, AS U UNDERSTAND DAT **ASF WILL NO LONGR HALP U PROGRES TOWARDZ BADGE COMPLESHUN, AN MAK U PRONE 2 LOSIN ENTIRE FINISHD SET 4 N DUPEZ OV TEH SAME CARD**. UNLES U INTENSHUNALLY WANTS 2 RUN TRADE BOT DAT IZ **NEVR** SUPPOSD 2 FINISH ANY SET, U DOAN WANTS 2 ENABLE DIS OPSHUN.

REGARDLES OV UR CHOSEN `TradingPreferences`, TRADE BEAN REJECTD BY ASF DOESNT MEEN DAT U CANT ACCEPT IT YOURSELF. IF U KEPT DEFAULT VALUE OV `BotBehaviour`, WHICH DOESNT INCLUDE `RejectInvalidTrades`, ASF WILL JUS IGNORE DOSE TRADEZ - ALLOWIN U 2 DECIDE YOURSELF IF URE INTERESTD IN THEM OR NOT. SAME GOEZ 4 TRADEZ WIF ITEMS OUTSIDE OV `MatchableTypes`, AS WELL AS EVRYTHIN ELSE - TEH MODULE IZ SUPPOSD 2 HALP U AUTOMATE STM TRADEZ, NOT DECIDE WUT IZ GUD TRADE AN WUT IZ NOT. The only exception from this rule is when talking about users that you blacklisted from trading module using `tbadd` command - trades from those users are immediately rejected regardless of `BotBehaviour` settings.

IZ HIGHLY RECOMMENDD 2 USE **[ASF 2FA](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Two-factor-authentication-lol-US)** WHEN U ENABLE DIS OPSHUN, AS DIS FUNCSHUN LOSEZ ITZ WHOLE POTENTIAL IF U DECIDE 2 MANUALLY CONFIRM EVRY TRADE. `SteamTradeMatcher` WILL WERK PROPERLY EVEN WITHOUT ABILITY 2 CONFIRM TRADEZ, BUT IT CAN GENERATE BAKLOG OV CONFIRMASHUNS IF URE NOT ACCEPTIN THEM IN TIEM.

---

### `MatchActively`

`MatchActively` SETTIN IZ EXTENDD VERSHUN OV `SteamTradeMatcher` WHICH IN ADDISHUN 2 PASIV MATCHIN OFFERD BY DAT OPSHUN, ALSO INCLUDEZ ACTIV MATCHIN IN WHICH TEH BOT WILL SEND TRADEZ 2 OTHR PEEPS.

IN ORDR 2 MAK USE OV DAT OPSHUN, U HAS SET OV REQUIREMENTS 2 MEET. FIRSTLY, U NED 2 ENABLE `SteamTradeMatcher` (AS DIS FEACHUR IZ EXTENSHUN OV DAT), AN ENSURE DAT U HAS `MatchEverything` **DISABLD** (AS TRADIN BOTS NEVR MATCH ACTIVELY). AFTERWARDZ, U HAS 2 BE ELIGIBLE 4 R **[ASF STM LISTIN](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Statistics-lol-US#current-privacy-policy)**, WIF BIT RELAXD REQUIREMENTS. AT TEH MINIMUM U MUST HAS `Statistics` ENABLD, **[UNRESTRICTD](https://support.steampowered.com/kb_article.php?ref=3330-IAGK-7663)** AKOWNT, **[ASF 2FA](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Two-factor-authentication-lol-US#asf-2fa)** ACTIV AN AT LEAST WAN VALID TYPE IN `MatchableTypes`, SUCH AS TRADIN CARDZ.

IF U MEET ALL OV TEH REQUIREMENTS ABOOV, ASF WILL PERIODICALLY SPEEK WIF R **[PUBLIC ASF STM LISTIN](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Statistics-lol-US#public-asf-stm-listin)** IN ORDR 2 ACTIVELY MATCH BOTS DAT R CURRENTLY AVAILABLE.

- EACH MATCHIN SESHUN IZ COMPOSD OV "ROUNDZ", WIF `10` BEAN MAXIMUM IN SINGLE MATCHIN SESHUN.
- IN EACH ROUND ASF WILL FETCH R INVENTORY AN INVENTORY OV SELECTD BOTS DAT R LISTD IN ORDR 2 FIND `MatchableTypes` ITEMS DAT CAN BE MATCHD. IF MATCH IZ FINDZ, ASF WILL SEND AN CONFIRM TRADE OFFR AUTOMATICALLY.
- EACH SET (COMPOSISHUN OV APPID, TYPE AN RARITY OV TEH ITEM) CAN BE MATCHD IN SINGLE ROUND ONLY ONCE. DIS AR TEH IMPLEMENTD IN ORDR 2 MINIMIZE "ITEMS NO LONGR AVAILABLE" AN AVOID NED 2 WAIT 4 EACH BOT 2 REACT BEFORE SENDIN ALL TEH TRADEZ. IZ ALSO TEH PRIMARY REASON Y MATCHIN IZ COMPOSD OV ROUNDZ AN NOT WAN ONGOIN PROCES.
- ASF WILL SEND NO MOAR THAN `255` ITEMS IN SINGLE TRADE, AN NO MOAR THAN `5` TRADEZ 2 SINGLE USR IN SINGLE ROUND. DIS AR TEH IMPOSD BY STEAM LIMITS, AS WELL AS R OWN LOAD-BALANCIN.
- ASF HAS HARD LIMIT OV `40` UNIQUE BOTS DAT CAN BE MATCHD IN SINGLE ROUND, IF NOT CANCELLD BEFORE DUE 2 RUNNIN OUT OV SETS 2 MATCH - IN DIS CASE, DURIN TEH NEXT ROUND ASF WILL TRY 2 MATCH BOTS DAT WUZ NOT MATCHD YET FIRSTLY.
- IF ASF DETERMINEZ DAT TEH MATCHIN SHUD CONTINUE, NEXT ROUND STARTS WITHIN `5` MINUTEZ SINCE TEH LAST WAN (2 ADD SUM COOLDOWN AN ALLOW ALL BOTS 2 REACT 2 R TRADEZ), OTHERWIZE MATCHIN SESHUN ENDZ AN REPEATS ITSELF IN `8` HOURS.

DIS MODULE IZ SUPPOSD 2 BE TRANZPARENT. MATCHIN WILL START IN APPROXIMATELY `1` HOUR SINCE ASF START, AN WILL REPEAT ITSELF EACH `8` HOURS (IF NEEDD). `MatchActively` FEACHUR IZ AIMD 2 BE USD AS LONG-RUN, PERIODICAL MEASURE 2 ENSURE DAT WERE ACTIVELY HEADIN TOWARDZ SETS COMPLESHUN, BUT WITHOUT SHORT-TURM TIEM AN RESOURCEZ PRESURE DAT WUD HAPPEN IF DIS WUZ OFFERD AS COMMAND. TEH TARGET USERS OV DIS MODULE R PRIMARY ACCOUNTS AN "STASH" ALT ACCOUNTS, ALTHOUGH IT CAN BE USD BY ANY BOT DAT IZ NOT SET 2 `MatchEverything`.

ASF DOEZ ITZ BEST 2 MINIMIZE TEH AMOUNT OV REQUESTS AN PRESURE GENERATD BY USIN DIS OPSHUN, WHILE AT TEH SAME TIEM MAXIMIZIN EFFICIENCY OV MATCHIN 2 TEH UPPR LIMIT. TEH EGSAKT ALGORITHM OV CHOOSIN TEH BOTS 2 MATCH AN OTHERWIZE ORGANIZE TEH WHOLE PROCES, IZ ASFS IMPLEMENTASHUN DETAIL AN CAN CHANGE IN REGARDZ 2 FEEDBACK, SITUASHUN AN POSIBLE FUCHUR IDEAS.

TEH CURRENT VERSHUN OV TEH ALGORITHM MAKEZ ASF PRIORITIZE `Any` BOTS FURST, ESPECIALLY DOSE WIF BETTR DIVERSITY OV GAMEZ DAT THEIR ITEMS R FRUM. WHEN RUNNIN OUT OV `Any` BOTS, ASF WILL MOOV ON 2 TEH FAIR ONEZ UPON SAME DIVERSITY RULE, WIF DOSE OWNIN EXCESIV NUMBR OV ITEMS FURTHR DEPRIORITIZD DUE 2 HIGHR CHANCE OV POSIBLE INVENTORY-RELATD PROBLEMS COMPARD 2 OTHR BOTS. REGARDLES OV DAT, ASF WILL TRY 2 MATCH EVRY AVAILABLE BOT AT LEAST ONCE, 2 ENSURE DAT WERE NOT MISIN ON POSIBLE SET PROGRES.

`MatchActively` takes into account bots that you blacklisted from trading through `tbadd` **[command](https://github.com/JustArchiNET/ArchiSteamFarm/wiki/Commands)** and will not attempt to actively match them. DIS CAN BE USD 4 TELLIN ASF WHICH BOTS IT SHUD NEVR MATCH, EVEN IF THEYD HAS POTENTIAL DUPEZ 4 US 2 USE.